/**
 * vkBeautify - javascript plugin to pretty-print text in XML and JSON formats.
 * Version - 0.99.00.beta
 * Copyright (c) 2012 Vadim Kiryukhin
 * vkiryukhin @ gmail.com
 * http://www.eslinstructor.net/vkbeautify/
 * MIT license: http://www.opensource.org/licenses/mit-license.php
 */
!function(){function e(e){var s="    ";if(isNaN(parseInt(e)))s=e;else switch(e){case 1:s=" ";break;case 2:s="  ";break;case 3:s="   ";break;case 4:s="    ";break;case 5:s="     ";break;case 6:s="      ";break;case 7:s="       ";break;case 8:s="        ";break;case 9:s="         ";break;case 10:s="          ";break;case 11:s="           ";break;case 12:s="            "}var a=["\n"];for(ix=0;ix<100;ix++)a.push(a[ix]+s);return a}function s(){this.step="\t",this.shift=e(this.step)}s.prototype.xml=function(s,a){var r=s.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),c=r.length,t=!1,n=0,i="",h=0,l=a?e(a):this.shift;for(h=0;h<c;h++)r[h].search(/<!/)>-1?(i+=l[n]+r[h],t=!0,(r[h].search(/-->/)>-1||r[h].search(/\]>/)>-1||r[h].search(/!DOCTYPE/)>-1)&&(t=!1)):r[h].search(/-->/)>-1||r[h].search(/\]>/)>-1?(i+=r[h],t=!1):/^<\w/.exec(r[h-1])&&/^<\/\w/.exec(r[h])&&/^<[\w:\-\.\,]+/.exec(r[h-1])==/^<\/[\w:\-\.\,]+/.exec(r[h])[0].replace("/","")?(i+=r[h],t||n--):r[h].search(/<\w/)>-1&&-1==r[h].search(/<\//)&&-1==r[h].search(/\/>/)?i=i+=t?r[h]:l[n++]+r[h]:r[h].search(/<\w/)>-1&&r[h].search(/<\//)>-1?i=i+=t?r[h]:l[n]+r[h]:r[h].search(/<\//)>-1?i=i+=t?r[h]:l[--n]+r[h]:r[h].search(/\/>/)>-1?i=i+=t?r[h]:l[n]+r[h]:r[h].search(/<\?/)>-1?i+=l[n]+r[h]:r[h].search(/xmlns\:/)>-1||r[h].search(/xmlns\=/)>-1?i+=l[n]+r[h]:i+=r[h];return"\n"===i[0]?i.slice(1):i},s.prototype.json=function(e,s){s=s||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,s):"object"==typeof e?JSON.stringify(e,null,s):e},window.vkbeautify=new s}();